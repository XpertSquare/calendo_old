<%- title "Calendo | " + current_account.name %>

<div id="workspace" class="workspace">
	<div class="container">
		<div class="sheet">
			<p>Current user: <%=current_user.email if current_user%> </p>			
			<hr/>
			<% @users.each do |user| %>
				<p> <%= user.email + user.roles.to_s%></p>
				
			<% end %>
			<div class="row">
				<div class="col-sm-6">
					<div class="panel panel-default">
						<div class="panel-heading">
								<i class="fa fa-calendar"></i>	Today's appointments									
						</div>
						<div class="panel-body" style="padding: 0px; font-size:12px;">
							<table class="table table-striped table-hover">
							  <tbody>
								<tr class="tr-appointment" style="cursor:pointer">
								  <td align="center" width="90"><div style="color:#666666;">09:00 - 10:30</div></td>
								  <td><a href="#">Phisyotherapy - 90 minutes</a> <div class="staff-label">William Bossard</div></td>					  
								  <td>Jacob Thornton</td>
								  <td width="80" align="right"><span class="label label-success" >Confirmed</span></td>
								</tr>
								<tr class="tr-appointment" style="cursor:pointer">
								  <td align="center"><div style="color:#666666;">11:00 - 11:30</div></td>
								  <td><a href="#">Deep Tissue Massage </a><div class="staff-label">Erica Burcham</div></td>
								  <td>Mark Otto</td>
								  <td><span class="label label-warning">Not confirmed</span></td>
								</tr>
								<tr class="tr-appointment" style="cursor:pointer">
								  <td align="center"><div style="color:#666666;">13:00 - 13:30</div></td>
								  <td><a href="#">Hot Stone Massage </a> <div class="staff-label">Sasha Newsham</div></td>
								  <td>!Not registered!</td>
								  <td><span class="label label-warning">Not confirmed</span></td>
								</tr>								
							  </tbody>
							</table>
						</div>
					</div>
					<div class="panel panel-default">
						<div class="panel-heading">
								<i class="fa fa-tasks"></i>	Pending tasks									
						</div>
						<div class="panel-body" style="padding: 0px; font-size:12px;">
							<table class="table table-striped table-hover">
							  <tbody>
								<tr class="tr-appointment" style="cursor:pointer">
								  <td align="center"><div style="color:#666666;">No pending tasks</div></td>
								  
								</tr>								
							  </tbody>
							</table>
						</div>
					</div>
				</div>
				<div class="col-sm-6" s>
					<div class="panel panel-default">
						<div class="panel-heading">
								<i class="fa fa-bar-chart-o"></i>	Sales									
						</div>
						<div class="panel-body" style="padding: 0px; font-size:12px;">
							<!--h5 style="margin-left:20px; ">Appointments for February</h5>
							<div class="chart-container">								
								<div id="chartAppointment" class="chart-placeholder" width="530"></div>
							</div>
							<h5 style="margin-left:20px; margin-top:15ps; ">Revenue for February</h5>
							<div class="chart-container">								
								<div id="chartRevenue" class="chart-placeholder" width="530"></div>
							</div-->							
							<h5 style=" border-bottom:1px solid #999999; margin-left:10px; margin-right:10px;">Appointments for February</h5>
							<canvas id="cnvAppointment" width="530" ></canvas>
							<h5 style="margin-top:10px; border-bottom:1px solid #999999; margin-left:10px; margin-right:10px;">Revenue for February</h5>
							<canvas id="cnvRevenue" width="530" ></canvas>
						</div>
					</div>	
				</div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
$(document).ready(function() {

/* Plot charting *//*
var chartAppoinmentOptions = {
    series: {
        lines: { show: true, fill: true, fillColor: "rgba(151,187,205,0.5)" },
        points: { show: true, fill: true }
    }
};
var d1 = [[1,6],[2,5],[3,7],[4,3],[5,8],[6,6],[7,5],[8,5],[9,7],[10,9],[11,6],[12,3],[13,8],[14,2],[15,1],[16,4],[17,6],[18,5],[19,3],[20,7],[21,8],[22,6],[23,9],[24,9],[25,5],[26,7],[27,5],[28,4]];
$.plot("#chartAppointment", [ d1], chartAppoinmentOptions);


var chartRevenueOptions = {
    series: {
        lines: { show: true, fill: true, fillColor: "rgba(129,245,123,0.5)" },
        points: { show: true, fill: true }
    }
};
var revenue = [];
for(var i=1; i<=28 ; i++)
{
	revenue.push([i,Math.floor((Math.random()*900)+1)]);
}

console.dir(revenue);

$.plot("#chartRevenue", [ revenue], chartRevenueOptions);
*/
var appChartData = {
			labels : ["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],
			datasets : [
				{
					fillColor : "rgba(151,187,205,0.5)",
					strokeColor : "rgba(220,220,220,1)",
					pointColor : "rgba(220,220,220,1)",
					pointStrokeColor : "#fff",
					data : [6,5,7,3,8,6,5,5,7,9,6,3,8,2,1,4,6,5,3,7,8,6,9,9,5,7,5,4]
				},
				
			]			
		}

var appointmentChart = new Chart(document.getElementById("cnvAppointment").getContext("2d")).Line(appChartData);

var revenueChartData = {
			labels : ["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],
			datasets : [
				{
					fillColor : "rgba(129,245,123,0.5)",
					strokeColor : "rgba(220,220,220,1)",
					pointColor : "rgba(220,220,220,1)",
					pointStrokeColor : "#fff",
					data : [220,240,320,120,500,270,670,320,440,780,430,210,560,150,80,320,290,670,280,700,650,430,820,780,430,300,480,300]
				}
			]			
		}

var revenueChart = new Chart(document.getElementById("cnvRevenue").getContext("2d")).Line(revenueChartData);
	
});
</script>
